(this.webpackJsonpsuperterram=this.webpackJsonpsuperterram||[]).push([[0],{26:function(e,t,n){e.exports=n(39)},38:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n.n(o),r=n(13),i=n.n(r),c=n(9),l=n(4),s=n(23);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(14),p=n.n(u),h=n(19),d=n(6),m=n(7),g=n(10),v=n(8),f=n(11),y=n(15),E=n.n(y),b=n(12),O=n.n(b),j=n(0),w=n(24),L=function(e,t,n,o){var a=n.width,r=n.height,i=a>r?r/450:a/800;switch(e){case"geoOrthographic":var c=o?o[0]:t?t[0]:0;return Object(j.n)().scale(200*i).translate([a/2,r/2]).rotate([-1*c||0]);case"geoNaturalEarth1":return Object(j.m)().scale(150*i).translate([a/2,r/2]);case"geoAzimuthalEqualArea":return Object(j.a)().scale(110*i).translate([a/2,r/2]).rotate([0,-90]);case"geoHill":return Object(w.a)().scale(150*i).translate([a/2,r/2]);case"geoMercator":return Object(j.l)().scale(75*i).translate([a/2,r/2]);case"geoConicEqualArea":return Object(j.g)().scale(125*i).translate([a/2,r/2]);default:return null}},k=function(e){return e.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1})},S=function(e){var t=e.circleProps,n=e.currentLocation,o=e.onMouseOver,r=e.position,i=e.selectedProjection,c=e.svgSize;if(r.loaded){var l=L(i.geo,r.longLat,{width:c[0],height:c[1]},!!n&&n.longLat);return a.a.createElement("circle",{cx:l(r.longLat)[0],cy:l(r.longLat)[1],r:t.radius,fill:t.fill,stroke:t.stroke,className:"marker",onMouseEnter:o,onMouseLeave:o})}return null},P=function(e){function t(){var e,n;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={popoverOpen:!1},n.setPopover=function(){return n.setState({popoverOpen:!n.state.popoverOpen})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props,t=e.connectedSettings,n=e.index,o=e.location,r=0===n?{radius:5,fill:"rgba(75, 250, 250, .5)",stroke:"#fff"}:{radius:1,fill:"rgba(255, 255, 255, ".concat(n>300?.4:1-n/500,")")},i=function(e){var t=new Date(e);return{hours:k(t.getHours()),minutes:k(t.getMinutes()),seconds:k(t.getSeconds())}}(1e3*o.timestamp);return a.a.createElement(O.a,{isOpen:this.state.popoverOpen,content:a.a.createElement("div",{style:{borderRadius:".5rem",backgroundColor:"rgba(250, 250, 250, .75)",padding:".25rem",fontSize:".75rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},a.a.createElement("p",{style:{margin:"0"}},"".concat(o.longLat[0]," E, ").concat(o.longLat[1]," N")),a.a.createElement("p",{style:{margin:"0"}},"".concat(i.hours,":").concat(i.minutes,":").concat(i.seconds)))},a.a.createElement(S,{circleProps:r,position:{loaded:!0,longLat:o.longLat},selectedProjection:t.selectedProjection,svgSize:t.svgSize,currentLocation:t.current,onMouseOver:this.setPopover}))}}]),t}(o.Component),D=n(25);var I=function(e){function t(){var e,n;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={height:800,width:450},n.getMapDimensions=function(){var e,t,o=window,a=o.innerWidth,r=o.innerHeight;a>r?t=1.78*(e=.9*r):e=(t=.9*a)/1.78,n.setState({height:e,width:t},(function(){return n.props.setSize([t,e])}))},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.getMapDimensions(),window.addEventListener("resize",this.getMapDimensions),this.props.getMap(),this.props.loadCurrent(),setInterval(this.props.loadCurrent,5e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.getMapDimensions)}},{key:"render",value:function(){var e=this.props,t=e.current,n=e.pastLocations,o=e.selectedProjection,r=e.svgSize,i=e.worldData,c=i.sort((function(e,t){return Number(e.id)-Number(t.id)}));return a.a.createElement("div",{style:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},a.a.createElement("svg",{width:r[0],height:r[1],viewBox:"0 0 ".concat(r[0]," ").concat(r[1])},a.a.createElement("g",{className:"countries"},c.map((function(e,n){var i=function(e){return n%e===0};return a.a.createElement("path",{key:"path_".concat(n),d:Object(j.o)().projection(L(o.geo,t.longLat,{width:r[0],height:r[1]}))(e),className:"country",id:"id_".concat(e.id,"_").concat(n),fill:"rgb(".concat(5===n?"200, 200, 200":i(3)?"250, ".concat(120+n/3,", ").concat(100+n/4):i(2)?"250, ".concat(175+n/4,", ").concat(100+n/2):"250, 225, ".concat(100+n/3),")"),stroke:"#212121",strokeWidth:.5})}))),a.a.createElement("g",{className:"markers"},n.map((function(e,n){return a.a.createElement(P,{key:n,index:n,location:e,connectedSettings:{current:t,selectedProjection:o,svgSize:r}})})))))}}]),t}(o.Component),A={getMap:function(){return function(e){fetch("https://unpkg.com/world-atlas@1/world/110m.json").then((function(t){200===t.status?t.json().then((function(t){e({type:"MAP_LOADED",value:Object(D.a)(t,t.objects.countries).features})})):console.log("There was a problem: ".concat(t.status))})).catch((function(e){return console.error("Caught error: ",e)}))}},setSize:function(e){return{type:"SIZE_LOADED",value:e}},loadCurrent:function(){return function(e){E()("http://api.open-notify.org/iss-now.json").then((function(t){t.ok?t.json().then((function(t){var n={loaded:!0,timestamp:t.timestamp,longLat:[parseFloat(t.iss_position.longitude),parseFloat(t.iss_position.latitude)]};e({type:"CURRENT_LOADED",value:n})})):console.log("Response not OK.",t)})).catch((function(e){return console.error("Caught error: ",e)}))}}},C=Object(c.b)((function(e){return{current:e.current,pastLocations:e.pastLocations,selectedProjection:e.selectedProjection,svgSize:e.svgSize,worldData:e.worldData}}),A)(I),T=Object(c.b)((function(e){return{selectedProjection:e.selectedProjection,allProjections:e.allProjections}}),(function(e){return{changeProjection:function(t){e(function(e){return{type:"PROJECTION_CHANGED",value:e}}(t))}}}))((function(e){var t=e.allProjections.map((function(e,t){return a.a.createElement("option",{key:t,value:e.geo+","+e.name},e.name," Projection")}));return a.a.createElement("select",{onChange:function(t){var n=t.target.value.split(",");return e.changeProjection({geo:n[0],name:n[1]})}},t)})),N=function(e){return a.a.createElement("form",{onSubmit:e.handleSubmitPlaceLookup},a.a.createElement("input",{type:"text",onChange:e.handleUpdatePlace,value:e.placeLookupValue}),a.a.createElement("input",{type:"submit",value:"search"}))},z={maxWidth:"20rem",backgroundColor:"rgba(250, 250, 250, .95)",borderRadius:".5rem",padding:".5rem"},M=function(e){function t(){var e,n;Object(d.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(g.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(a)))).state={flyover:{searchLocation:"",longLat:[],quality:""},flyoverInfoPopoverOpen:!1,mapInfoPopoverOpen:!1,placeLookupValue:"",projectionInfoPopoverOpen:!1,timeTillFlyover:null},n.flyoverInterval=null,n.handleSubmitPlaceLookup=function(){var e=Object(h.a)(p.a.mark((function e(t){var o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=n.state.placeLookupValue.replace(/\s/g,""),clearInterval(n.flyoverInterval),t.preventDefault(),fetch("http://www.mapquestapi.com/geocoding/v1/address?key=1F9kTAodCTAGnxoK4dmLAwOQ79tcZGe3&location=".concat(o,"&thumbMaps=false&maxResults=1")).then((function(e){200===e.status?e.json().then(function(){var e=Object(h.a)(p.a.mark((function e(t){var o,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.results[0]){e.next=3;break}throw new Error("Could not find location");case 3:return a=o.locations[0].latLng,n.setState({flyover:{searchLocation:o.providedLocation.location,longLat:[a.lng,a.lat],quality:o.locations[0].geocodeQuality}}),e.next=7,E()("http://api.open-notify.org/iss-pass.json?lat=".concat(a.lat,"&lon=").concat(a.lng,"&n=1")).then((function(e){e.ok?e.json().then((function(e){var t=(1e3*e.response[0].risetime-(new Date).getTime())/1e3;n.setState({timeTillFlyover:t},(function(){n.state.timeTillFlyover&&(n.flyoverInterval=setInterval((function(){n.setState({timeTillFlyover:n.state.timeTillFlyover-1})}),1e3))}))})):console.log("Response not OK")})).catch((function(e){return console.error("Caught error: ",e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):console.log("There was a problem: ".concat(e.status))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleUpdatePlace=function(e){n.setState({placeLookupValue:e.target.value})},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.flyover,o=t.flyoverInfoPopoverOpen,r=t.mapInfoPopoverOpen,i=t.placeLookupValue,c=t.projectionInfoPopoverOpen,l=t.timeTillFlyover;return a.a.createElement("main",{style:{width:"100vw",height:"100vh"}},a.a.createElement(C,null),a.a.createElement("div",{style:{position:"absolute",bottom:"1rem",left:"1rem"}},a.a.createElement(O.a,{isOpen:r,content:a.a.createElement("div",{style:z},a.a.createElement("p",null,"This map displays the current location of the International Space Station in real time, thanks to\xa0",a.a.createElement("a",{href:"http://open-notify.org/",target:"_blank",rel:"noopener noreferrer"},"Open Notify"),"."),a.a.createElement("p",null,"The location is updated every 5 seconds. Watch long enough and you'll see the orbital path of the ISS drawn across the map! Try viewing different projections to see how the path appears to change."))},a.a.createElement("button",{className:"help-button",onClick:function(){e.setState({mapInfoPopoverOpen:!r})}},"?"))),a.a.createElement("div",{style:{position:"absolute",top:"1rem",left:"1rem"}},a.a.createElement("h1",{style:{fontSize:"1.2rem"}},"Things above the Earth: International\xa0Space\xa0Station"),a.a.createElement("div",{style:{display:"block"}},a.a.createElement("h5",null,"View the Earth in different projections:"),a.a.createElement(T,null),a.a.createElement(O.a,{isOpen:c,content:a.a.createElement("div",{style:z},a.a.createElement("p",null,a.a.createElement("b",null,"What are projections?")," Because the Earth is a three-dimensional sphere, we aren't able to view all of it at once. A projection is way of mapping every point on a sphere (like the Earth) onto a point on a two-dimensional plane - in other words, a flat surface such as a screen."),a.a.createElement("p",null,"Each projection uses a different mathematical formula to determine its shape, and each has different uses. The Orthographic Projection is actually designed to look just like half of a sphere, and looks as Earth would from space, directly over the equator. Notice how each projection distorts distance or direction differently."))},a.a.createElement("button",{className:"help-button",onClick:function(){e.setState({projectionInfoPopoverOpen:!c})}},"?"))),a.a.createElement("div",{style:{display:"block"}},a.a.createElement("h5",null,"Find out when the ISS will fly over you:"),a.a.createElement(N,{handleSubmitPlaceLookup:this.handleSubmitPlaceLookup,handleUpdatePlace:this.handleUpdatePlace,placeLookupValue:i}),a.a.createElement(O.a,{isOpen:o,content:a.a.createElement("div",{style:z},a.a.createElement("p",null,"Search for any location by name or by street address. This app will use MapQuest's GeoCoding API to look up the latitude and longitude of your location and then use Open Notify to find out when the ISS will be overhead next."),a.a.createElement("p",null,"If it's a clear night when the ISS is overhead, you may be able to go outside and see it! The ISS will appear as a bright light moving rapidly across the sky."))},a.a.createElement("button",{className:"help-button",onClick:function(){e.setState({flyoverInfoPopoverOpen:!o})}},"?")),null!==l&&a.a.createElement("p",null,"The ISS will be overhead at ",n.searchLocation," in\xa0",function(e){var t=Math.floor(e/3600),n=Math.floor(e/60-60*t),o=Math.floor(e-3600*t-60*n);return"".concat(t,":").concat(k(n),":").concat(k(o))}(l)))))}}]),t}(o.Component);var _=Object(l.c)({allProjections:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},buttons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"BUTTONS_LOADED"===t.type?t.value:e},cities:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]},current:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"CURRENT_LOADED"===t.type?t.value:e},flyover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"FLYOVER_LOADED"===t.type?t.value:e},inputLat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"LAT_UPDATED"===t.type?t.value:e},inputLong:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"LONG_UPDATED"===t.type?t.value:e},pastLocations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"CURRENT_LOADED"===t.type&&e.unshift(t.value),e},selectedProjection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"PROJECTION_CHANGED"===t.type?t.value:e},svgSize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[800,450],t=arguments.length>1?arguments[1]:void 0;return"SIZE_LOADED"===t.type?t.value:e},worldData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"MAP_LOADED"===t.type?t.value:e}}),x=(n(38),Object(l.a)(s.a)),R=Object(l.d)(x),U=Object(l.e)(_,{current:{},pastLocations:[],worldData:[],svgSize:[800,450],selectedProjection:{geo:"geoOrthographic",name:"Orthographic",desc:""},allProjections:[{geo:"geoOrthographic",name:"Orthographic",desc:""},{geo:"geoMercator",name:"Mercator",desc:""},{geo:"geoNaturalEarth1",name:"Natural Earth",desc:""},{geo:"geoHill",name:"Hill Eucyclic",desc:""},{geo:"geoAzimuthalEqualArea",name:"Azimuthal",desc:""},{geo:"geoConicEqualArea",name:"Conic",desc:""}],flyover:{},inputLat:"",inputLong:"",buttons:[{name:"S\xe3o Paulo",timezone:-2,lat:-23.55,long:-46.633333,country:"Brazil"},{name:"Lagos",timezone:1,lat:6.455027,long:3.384082,country:"Nigeria"},{name:"Dhaka",timezone:6,lat:23.7,long:90.366667,country:"Bangladesh"},{name:"Beijing",timezone:8,lat:39.916667,long:116.383333,country:"China"},{name:"New York",timezone:-5,lat:40.7127,long:-74.0059,country:"USA"},{name:"Moscow",timezone:3,lat:55.75,long:37.616667,country:"Russia"}]},R);i.a.render(a.a.createElement(c.a,{store:U},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.2e8e9f88.chunk.js.map